include /resources/pug/mixins/panel

+panel("{{ 'server.assign.TITLE' | translate }}")
  table.table
    thead
      tr
        th(translate="server.assign.ITEM")
        th(translate="server.assign.ASSIGNED")

    tbody
      tr
        td
          strong(translate="server.assign.client.TITLE")
        td
          a(
            ng-if="assign.server.access"
            ui-sref="app.user.client.view(assign.server.access.client)"
            ng-bind="assign.server.access.client.name"
          )
          span(
            ng-if="!assign.server.access"
            translate="server.assign.client.NONE"
          )
          span  (
          a(
            ng-click="assign.client.modal()"
            translate="server.assign.client.{{ assign.server.access ? 'REASSIGN' : 'ASSIGN' }}"
          )
          span )
      tr
        td
          strong(translate="server.assign.GROUP")
        td
          a(
            ng-if="assign.server.group"
            ui-sref="app.network.group.view(assign.server.group)"
            ng-bind="assign.server.group.name"
          )
      tr(ng-if="assign.entities.items.length")
        td(colspan="2")

      //- Start Entities
      tr(ng-repeat-start="entity in assign.entities.items")
        td
          strong(translate="server.assign.entity.TITLE")
        td
          a(
            ui-sref="app.network.entity.view(entity)"
            ng-bind="entity.nickname"
          )

      //- Start IPv4
      tr(ng-if-start="entity.v4")
        td
          span(translate="server.assign.entity.v4.USABLE")
        td(ng-bind="entity.v4.full")
      tr
        td
          span(translate="server.assign.entity.v4.GATEWAY")
        td(ng-bind="entity.v4.gateway")
      tr(ng-if-end)
        td
          span(translate="server.assign.entity.v4.SUBNET")
        td(ng-bind="entity.v4.subnet_mask")
      //- End IPv4

      //- Start IPv6
      tr(ng-if-start="entity.v6")
        td
          span(translate="server.assign.entity.v6.ADDRESS")
        td(ng-bind="entity.v6.address")
      tr(ng-if-end, ng-repeat-end)
        td
          span(translate="server.assign.entity.v6.GATEWAY")
        td(ng-bind="entity.v6.gateway")
      //- End IPv6
      //- End Entities
