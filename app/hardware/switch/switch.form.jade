doctype html
include /resources/jade/mixins/form

+field(
  "{{ 'hardware.switch.form.name.LABEL' | translate }}",
  "name"
)(
  placeholder="{{ 'hardware.switch.form.name.PLACEHOLDER' | translate }}"
  ng-model="switchForm.input.name"
)

+select(
  "{{ 'hardware.switch.form.type.LABEL' | translate }}",
  "type"
)(
  placeholder="{{ 'hardware.switch.form.type.PLACEHOLDER' | translate }}"
  ng-model="switchForm.input.type"
  ng-options="key*1 as value for (key, value) in switchForm.switchTypes"
)

+label("{{ 'hardware.switch.form.network.LABEL' | translate }}")
  .row 
    .col-xs-8 
      input.form-control(
        type="text"
        placeholder="{{ 'hardware.switch.form.network.ip.PLACEHOLDER' | translate }}"
        ng-model="switchForm.input.ip"
      )
    .col-xs-4 
      input.form-control(
        type="text"
        placeholder="{{ 'hardware.switch.form.network.port.PLACEHOLDER' | translate }}"
        ng-model="switchForm.input.port"
      )

+label("{{ 'hardware.switch.form.ssh.LABEL' | translate }}")
  .row 
    .col-xs-6
      input.form-control(
        type="text"
        placeholder="{{ 'hardware.switch.form.ssh.username.PLACEHOLDER' | translate }}"
        ng-model="switchForm.input.ssh_user"
      )
    .col-xs-6 
      input.form-control(
        type="text"
        placeholder="{{ 'hardware.switch.form.ssh.password.PLACEHOLDER' | translate }}"
        ng-model="switchForm.input.ssh_pass"
      )

+field(
  "{{ 'hardware.switch.form.enable.LABEL' | translate }}",
  "enable"
)(
  placeholder="{{ 'hardware.switch.form.enable.PLACEHOLDER' | translate }}"
  ng-model="switchForm.input.ssh_en_pass"
)

+field(
  "{{ 'hardware.switch.form.snmp.LABEL' | translate }}",
  "snmp"
)(
  placeholder="{{ 'hardware.switch.form.snmp.PLACEHOLDER' | translate }}"
  ng-model="switchForm.input.snmp_pass"
)

+label("{{ 'hardware.switch.form.group.LABEL' | translate }}")
  ui-select(
    multiple
    ng-model="switchForm.groups.selected"
    theme="bootstrap"
    close-on-select="false"
  )
    ui-select-match(placeholder="{{ 'hardware.switch.form.group.LABEL' | translate }}")
      | {{ $item.name }}

    ui-select-choices(
      repeat=
        "group in (" +
          "switchForm.groups.items |" +
          "filter: {name: $select.search} |" +
          "filter: switchForm.groups.notSelected" +
        ") track by group.id"
      refresh="switchForm.groups.load($select.search)"
      refresh-delay="400"
    )
      div(ng-bind-html="group.name | highlight: $select.search")
        small servers: {{ group.serversCount }}
